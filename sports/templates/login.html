{% load static %}
{% include 'base.html' %}
{#  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">#}
<link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css" />
<link rel="stylesheet" href="{% static 'css/loader.css' %}" />
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
{#  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>#}
{#  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>#}
<script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-auth.js"></script>
<script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit"></script>
<script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-analytics.js"></script>

{#<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">#}
{#<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>#}
{#<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>#}
<script>
    function onloadCallback() {
        /* Place your recaptcha rendering code here */
    }
</script>


<!-- Trigger the modal with a button -->

<!-- Modal -->
<br>
<br>
<img src="/media/media/logo/any11play_logo_white.png" width="50"height="50" style="margin: 4%;border-radius: 10px">
<br>
<br>
<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">

                <h4 class="modal-title">Register/Login</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
{#            <div class="modal-body">#}
{#                <div class="container">#}
{#                    <ul class="nav nav-pills" style="color: white">#}
{#                        <li class="active" style="text-align:center;color:white;background: #5b80b2;margin: 5px;border-radius: 5px"><a data-toggle="pill" href="#login" style="color:white !important;margin: 10px" > Login </a></li>#}
{#                        <li style="text-align:center;background: #5b80b2;margin: 5px;border-radius: 5px"><a data-toggle="pill" href="#register" style="color:white !important;margin: 10px"> Register </a></li>#}
{#                    </ul>#}
{#                    <div class="tab-content">#}
{#                        <div id="login" class="tab-pane fade in active show">#}
{#                            <h3>Login</h3>#}
{#                            <label>UserName</label><br>#}
{#                            <input value="" id="login_username"type="text" placeholder="Enter UserName"><br>#}
{#                            <div id="invalid_username_l"></div><br>#}
{#                            <label>Password</label><br>#}
{#                            <input value="" id="login_password" type="password" placeholder="Enter  Password"><br>#}
{#                            <div id="invalid_password_l"></div>#}
{#                            <br>#}
{#                            <button class="btn-primary" id="submit_login" onclick="login_function()" >Submit</button>#}
{#                        </div>#}
{#                        <div id="register" class="tab-pane fade">#}
{#                            <h3>Register</h3>#}
{#                            <label>UserName</label><br>#}
{#                            <input minlength="4" value="" id="register_username" type="text" placeholder="Enter UserName"><br>#}
{#                            <div id="invalid_username_r"></div><br>#}
{#                            <label>Mobile number</label><br>#}
{#                            <input value="" id="register_mobile" type="number" minlength="6000000000" maxlength="9999999999" placeholder="Enter UserName"><br>#}
{#                            <br>#}
{#                            <label>Password (must be 8 char)</label><br>#}
{#                            <input value="" id="register_password" type="password" placeholder="Enter unique UserName">#}
{#                            <div id="invalid_password_r"></div><br>#}
{#                            <br>#}
{#                            <button class="btn-primary" id="submit_userdetails" onclick="register()" >Submit</button>#}
{#                        </div>#}
{#                    </div>#}
{#                </div>#}
{#            </div>#}



{#                    <div class="modal-body">#}
{#                      <p id="label_mobile"></p>#}
{#                            <div id="div_mobile">#}
{#                                <select style="width: 20%" id="dialcode">#}
{##}
{#                                    <option value="91">India (+91)</option>#}
{#                                  {% for a in country %}#}
{#                                     <br>#}
{#                                      <option value="{{ a.phone }}">{{ a }} (+{{ a.phone }})</option>#}
{#                                  {% endfor %}#}
{#                                </select>#}
{#                                <input value="" type="number" id="mobile_number"  required> Mobile Number#}
{#                                <div id="checkdiv" style="color: red"></div>#}
{#                            </div>#}
{#                            <div id="div_otp" style="display: none; margin-top: 2%" required>#}
{#                                <input value="" type="text" id="mobile_otp">   Enter OTP#}
{#                                <div id="otp_checkdiv" style="color: red"></div>#}
{#                            </div>#}
{#                    </div>#}
{#                    <div class="modal-footer">#}
{#                         <div class="loader" style="display: none;"></div>#}
{#                      <button type="button" id="submit_mobile" class="btn btn-default" >Submit</button>#}
{#                      <button type="button" id="submit_otp" class="btn btn-default"  style="display: none">Submit OTP</button>#}
{#                      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>#}
{#                    </div>#}
        </div>
    </div>
</div>
<link href="//netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>

</div>

<body>
<!------ Include the above in your HEAD tag ---------->

<div class="container">
    <div class="row centered-form">
        <div class="col-xs-12 col-sm-8 col-md-4 col-sm-offset-2 col-md-offset-4">
            <div class="panel panel-default">
                <div class="panel-heading" style="display: inline-flex;width: 100%">
                    <div style="float:left;width: 70%"><h3 class="panel-title" >Login</h3></div>
                    <a href="/sports/tbt/otp_login/" style="float:right;text-align: right;width: 30%;text-align: -webkit-center;" type="button" id="submit_otp" class="btn btn-default" >OTP Login</a>
                </div>
                <div class="panel-body">
                    <form role="form">

                        <div id="div_mobile">

                            <div class="form-group">
                                <input type="number" name="mobile_number" id="mobile_number" class="form-control input-sm" placeholder="Mobile Number">
                            </div>
                            <div class="form-group">
                                <input type="password" name="password" id="password" class="form-control input-sm" placeholder="Password">
                            </div>
                        </div>

                        <div id="div_checkdiv" style=" margin-top: 2%" required>
                            <div id="checkdiv" style="color: red"></div>
                        </div>

{#                        <input value="Register" class="btn btn-info btn-block">#}
                        <div class="modal-footer">
                            <div class="loader" style="display: none;"></div>
                            <a href="/sports/tbt/registration/" style="padding:4px;border-radius: 5px;background: #e0f7e0">Registration</a><br><br>
                            <label  id="submit_mobile"  onclick="login()" class="btn btn-default" style="width: 100%;background: lightblue">Submit</label>

{#                            <button type="button" class="btn btn-default" data-dismiss="modal">Register</button>#}
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
<style>
    .loader {
        border: 16px solid #f3f3f3;
        border-radius: 50%;
        border-top: 16px solid #3498db;
        width: 20px;
        height: 20px;
        -webkit-animation: spin 2s linear infinite; /* Safari */
        animation: spin 2s linear infinite;
    }

    /* Safari */
    @-webkit-keyframes spin {
        0% { -webkit-transform: rotate(0deg); }
        100% { -webkit-transform: rotate(360deg); }
    }

    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
    .modal-body input {

        width: 100%;
    }
</style>
{##}
{#<style>#}
{#    .modal {#}
{#        top: 20% !important;#}
{#        display: block !important;#}
{#    }#}
{#    .modal-dialog{#}
{#        width: fit-content !important;#}
{#    }#}
{##}
{#</style>#}


<script>
    function login() {
        var mobile_number = document.getElementById("mobile_number").value;
        var password = document.getElementById("password").value;
        if (password.length < 7){
            $("#checkdiv").html("Please Check Password")
        }
        if (mobile_number.length < 6){
            $("#checkdiv").html("Please Check Mobile Number")
        }
        else {
            $.ajax({
                url: '{{ request.url }}/sports/tbt/login/',
                type: 'POST',
                data: {
                    'mobile_number': mobile_number,
                    'password': password,
                    'csrfmiddlewaretoken':"{{ csrf_token }}",
                },
                headers: {
                    // 'Content-type': 'application/json',
                    'X-CSRFToken': '{{csrf_token}}'
                },
                dataType: 'json',

                success: function (data) {
                    $(".loader").css('display', 'none');

                    console.log("data:"+data);
                    console.log("status_code:");
                    {#var myStatus = data.status;#}
                    {#console.log(myStatus);#}
                    if (data['status'] == 200) {$("#checkdiv").html("Login Successfully"); window.location = "/";}
                    if (data['status'] == 201) {$("#checkdiv").html(data['msg']);}
                    if (data['status'] == 202) {$("#checkdiv").html(data['msg']);}
                    if (data['status'] == 203) {$("#checkdiv").html(data['msg']);}
                    if (data['status'] == 204) {$("#checkdiv").html(data['msg']);}
                }
            });
        }
        {#Hardik2228@Hira#}
        {#Hardik@2228Hira#}
        {#hardik2228@Hira#}


    }



</script>


