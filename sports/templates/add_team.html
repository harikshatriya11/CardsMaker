{% include 'base.html' %}

<body>
<div class="swipegory">
    <nav>
        <ul>
            <li><a href="#item1">WK</a></li>
            <li><a href="#item2">Bat</a></li>
            <li><a href="#item3">All-R</a></li>
            <li><a href="#item4">Bowl</a></li>
            {#            <li><a href="#item5">CSS 3</a></li>#}
            {#            <li><a href="#item6">HTML 5</a></li>#}
            {#            <li><a href="#item7">PHP</a></li>#}
        </ul>
    </nav>
    <ul class="panes">
        <li>
            {% for p in players %}
                {% for t in team %}
                    {% if p.player_place == '3' %}

                        {% if p.team == t.team1 %}
                            <div id="player{{ p.id }}" class="player" value="{{p.id}}"style="color: black;width: 100%">
                                <div class="select_player_name" style="display: inline;float: left;width: 80%">
                                    <label><img src="/media/{{ p.image }}" style="width: 30px;float: left;margin-right: 5px;border-radius: 50%"> {{ p.abr_name }}</label>
                                    <br><label style="font-size: 12px;">{{ p.get_played_last_match_display }}.</label>
                                </div>
                                <div class="select_player" value="{{p.id}}"style="display: inline;float: right;width: 20%;text-align: right">
                                    <label class="plus_sign">+</label>
                                    <br><label style="font-size: 12px;">{{ p.team.name_abr }}</label>
                                </div>
                            </div>
                            <br><br><hr>
                        {% elif p.team == t.team2 %}
                            <div id="player{{ p.id }}" class="player" value="{{p.id}}"style="color: black;width: 100%">
                                <div class="select_player_name" style="display: inline;float: left;width: 80%">
                                    <label><img src="/media/{{ p.image }}" style="width: 30px;float: left;margin-right: 5px;border-radius: 50%"> {{ p.abr_name }}</label>
                                    <br><label style="font-size: 12px;">{{ p.get_played_last_match_display }}.</label>
                                </div>
                                <div class="select_player" value="{{p.id}}"style="display: inline;float: right;width: 20%;text-align: right">
                                    <label class="plus_sign">+</label><br>
                                    <label style="font-size: 12px;">{{ p.team.name_abr }}</label>
                                </div>
                            </div>
                            <br><br><hr>
                        {% endif %}
                    {% endif %}
                {% endfor %}
            {% endfor %}
        </li>
        <li>
            {% for p in players %}
                {% for t in team %}
                    {% if p.player_place == '1' %}

                        {% if p.team == t.team1 %}
                            <div id="player{{ p.id }}" class="player" value="{{p.id}}"style="color: black;width: 100%">
                                <div class="select_player_name" style="display: inline;float: left;width: 80%">
                                    <label><img src="/media/{{ p.image }}" style="width: 30px;float: left;margin-right: 5px;border-radius: 50%">{{ p.abr_name }}</label><br><label style="font-size: 12px;">{{ p.get_played_last_match_display }}.</label></div>
                                <div class="select_player" value="{{p.id}}"style="display: inline;float: right;width: 20%;text-align: right"><label class="plus_sign">+</label><br><label style="font-size: 12px;">{{ p.team.name_abr }}</label></div>
                            </div>
                            <br><br><hr>
                        {% elif p.team == t.team2 %}
                            <div id="player{{ p.id }}" class="player" value="{{p.id}}"style="color: black;width: 100%">
                                <div class="select_player_name" style="display: inline;float: left;width: 80%">
                                    <label><img src="/media/{{ p.image }}" style="width: 30px;float: left;margin-right: 5px;border-radius: 50%">{{ p.abr_name }}</label><br><label style="font-size: 12px;">{{ p.get_played_last_match_display }}.</label></div>
                                <div class="select_player" value="{{p.id}}"style="display: inline;float: right;width: 20%;text-align: right"><label class="plus_sign">+</label><br><label style="font-size: 12px;">{{ p.team.name_abr }}</label></div>
                            </div>
                            <br><br><hr>
                        {% endif %}

                    {% endif %}
                {% endfor %}
            {% endfor %}
        </li>
        <li>
            {% for p in players %}
                {% for t in team %}
                    {% if p.player_place == '4' %}

                        {% if p.team == t.team1 %}
                            <div id="player{{ p.id }}" class="player" value="{{p.id}}"style="color: black;width: 100%">
                                <div class="select_player_name" style="display: inline;float: left;width: 80%">
                                    <label><img src="/media/{{ p.image }}" style="width: 30px;float: left;margin-right: 5px;border-radius: 50%">{{ p.abr_name }}</label><br><label style="font-size: 12px;">{{ p.get_played_last_match_display }}.</label></div>
                                <div class="select_player" value="{{p.id}}"style="display: inline;float: right;width: 20%;text-align: right"><label class="plus_sign">+</label><br><label style="font-size: 12px;">{{ p.team.name_abr }}</label></div>
                            </div>
                            <br><br><hr>
                        {% elif p.team == t.team2 %}
                            <div id="player{{ p.id }}" class="player" value="{{p.id}}"style="color: black;width: 100%">
                                <div class="select_player_name" style="display: inline;float: left;width: 80%">
                                    <label><img src="/media/{{ p.image }}" style="width: 30px;float: left;margin-right: 5px;border-radius: 50%">{{ p.abr_name }}</label><br><label style="font-size: 12px;">{{ p.get_played_last_match_display }}.</label></div>
                                <div class="select_player" value="{{p.id}}"style="display: inline;float: right;width: 20%;text-align: right"><label class="plus_sign">+</label><br><label style="font-size: 12px;">{{ p.team.name_abr }}</label></div>
                            </div>
                            <br><br><hr>
                        {% endif %}

                    {% endif %}
                {% endfor %}
            {% endfor %}
        </li>
        <li>
            {% for p in players %}
                {% for t in team %}
                    {% if p.player_place == '2' %}

                        {% if p.team == t.team1 %}
                            <div id="player{{ p.id }}" class="player" value="{{p.id}}"style="color: black;width: 100%">
                                <div class="select_player_name" style="display: inline;float: left;width: 80%">
                                    <label><img src="/media/{{ p.image }}" style="width: 30px;float: left;margin-right: 5px;border-radius: 50%">{{ p.abr_name }}</label><br><label style="font-size: 12px;">{{ p.get_played_last_match_display }}.</label></div>
                                <div class="select_player" value="{{p.id}}"style="display: inline;float: right;width: 20%;text-align: right"><label class="plus_sign">+</label><br><label style="font-size: 12px;">{{ p.team.name_abr }}</label></div>
                            </div>
                            <br><br><hr>
                        {% elif p.team == t.team2 %}
                            <div id="player{{ p.id }}" class="player" value="{{p.id}}"style="color: black;width: 100%">
                                <div class="select_player_name" style="display: inline;float: left;width: 80%">
                                    <label><img src="/media/{{ p.image }}" style="width: 30px;float: left;margin-right: 5px;border-radius: 50%">{{ p.abr_name }}</label><br><label style="font-size: 12px;">{{ p.get_played_last_match_display }}.</label></div>
                                <div class="select_player" value="{{p.id}}"style="display: inline;float: right;width: 20%;text-align: right"><label class="plus_sign">+</label><br><label style="font-size: 12px;">{{ p.team.name_abr }}</label></div>
                            </div>
                            <br><br><hr>
                        {% endif %}

                    {% endif %}
                {% endfor %}
            {% endfor %}
        </li>
    </ul>
    {% include 'cricket_team_preview.html' %}
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.touchswipe/1.6.4/jquery.touchSwipe.min.js"></script>
{#<script src="script.js"></script>#}


<div style='margin-left: auto;margin-right: auto;text-align: center;'>
    <br /><hr /><br /></div>
<div class="footer">
    <div id="preview" onclick="preview_team({{ m.id }})" style="background: green;width: 40%;margin-left: 5%;float: left;border-radius: 5px">Preview</div>
    <div onclick="next()" id="create"style="background: grey;width: 40%;margin-left: 5%;float: left;border-radius: 5px">Next</div>
</div>
{% include 'c_vc_select.html' %}
{% include 'cricket_team_temp_preview.html' %}


<script>

    var total_player = 0;
    var selected_player = [];
    var captain = 0;
    var vice_captain = 0;
    var myModal_team_preview = document.getElementById("myModal_team_preview");
    {% if edit_team == True %}
        var p1,p2,p3,p4,p5,p6,p8,p9,p10,p11;
        total_player = 11;
        var captain = {{created_team.captain.player.id}};
        var vice_captain = {{created_team.vice_captain.player.id}};
        $(".captain").css("background", "white");
        $(".vice_captain").css("background", "white");
        $("#captain"+captain).css("background", "#bae5a0");
        $("#vice_captain"+vice_captain).css("background", "#bae5a0");
        p1 = {{created_team.player1.player.id}};
        p2 = {{created_team.player2.player.id}};
        p3 = {{created_team.player3.player.id}};
        p4 = {{created_team.player4.player.id}};
        p5 = {{created_team.player5.player.id}};
        p6 = {{created_team.player6.player.id}};
        p7 = {{created_team.player7.player.id}};
        p8 = {{created_team.player8.player.id}};
        p9 = {{created_team.player9.player.id}};
        p10 = {{created_team.player10.player.id}};
        p11 = {{created_team.player11.player.id}};
        selected_player = [p1, p2, p3, p4, p5, p6,p7,p8,p9,p10,p11];
        for(var p_id =0;p_id<selected_player.length;p_id++){

            $("#player"+selected_player[p_id]).find(".select_player_name").css("background","red");
            $("#player"+selected_player[p_id]).find(".select_player_name").removeClass("select_player_name").addClass("selected_player_name");
            $("#player"+selected_player[p_id]).find(".select_player").removeClass("select_player").addClass("selected_player").css("background","red");
            $("#player"+selected_player[p_id]).find(".plus_sign").removeClass("plus_sign").addClass("minus_sign").html("-");
            $("#create").addClass("createteam").css("background", "green");
        }

        $("#create").css("background","green")
    {% endif %}


    var dragging = false;
    $("body").on("touchend", function(){
        dragging = false;
    });
    $("body").on("touchmove", function(){
        dragging = true;
    });
    $(window).load(function() { // better to use $(document).ready(function(){
        $('.player').on('click touchend', function(event) {
            console.log("dragging:"+dragging)

            console.log($(this).attr("value"));
            var id = parseInt($(this).attr("value"));

            if (dragging == false){
                if ($("#player"+id).find(".select_player_name")[0]){
                    total_player = total_player + 1;
                    if (total_player > 11 ){
                        total_player = total_player - 1;
                    }
                    else if (total_player == 11 ){
                        $("#player"+id).find(".select_player_name").css("background","red");
                        $("#player"+id).find(".select_player_name").removeClass("select_player_name").addClass("selected_player_name");
                        $("#player"+id).find(".select_player").removeClass("select_player").addClass("selected_player").css("background","red");
                        $("#player"+id).find(".plus_sign").removeClass("plus_sign").addClass("minus_sign").html("-");
                        selected_player.push(id);
                        $("#create").addClass("createteam").css("background", "green");

                    }
                    else if (total_player < 11 ){

                        $("#player"+id).find(".select_player_name").css("background","red");
                        $("#player"+id).find(".select_player_name").removeClass("select_player_name").addClass("selected_player_name");
                        $("#player"+id).find(".select_player").removeClass("select_player").addClass("selected_player").css("background","red");
                        $("#player"+id).find(".plus_sign").removeClass("plus_sign").addClass("minus_sign").html("-");
                        selected_player.push(id);

                    }
                    {#$(""+ a).css("background","red");#}


                }
                else if ($("#player"+id).find(".selected_player_name")[0]){
                    {#$(""+ a).css("background","red");#}

                    $("#player"+id).find(".selected_player_name").css("background","white");
                    $("#player"+id).find(".selected_player_name").removeClass("selected_player_name").addClass("select_player_name");
                    $("#player"+id).find(".selected_player").removeClass("selected_player").addClass("select_player").css("background","white");
                    $("#player"+id).find(".minus_sign").removeClass("minus_sign").addClass("plus_sign").html("+");

                    total_player = total_player - 1;

                    if (total_player != 11 ){
                        $("#create").removeClass("createteam").css("background", "grey");
                    }
                    var index = selected_player.indexOf(id);
                    if (index !== -1) {
                        selected_player.splice(index, 1);
                    }
                }
                else {
                }
                {#alert($("#"+id).find("select_player_name"));#}
            }

            console.log(selected_player);
        });
    });
    function next()
    {
        console.log(selected_player);
        if ($(".createteam")[0])
        {
            console.log(selected_player.indexOf('{{ p.id }}'));
            {% for p in players %}

                if(selected_player.indexOf({{ p.id }}) !== -1)
                {
                    console.log('s:'+'{{ p.id }}');
                    console.log('{{ p.id }}:{{ p.full_name }}')
                    $("#c_vc_selected_team").append('' +
                        '<div id="player{{ p.id }}" class="player" style="color: black;width: 100%">'+
                        '<div class="select_player_name" style="display: inline;float: left;width: 70%">'+
                        '<label><img src="/media/{{ p.image }}" style="width: 30px;float: left;margin-right: 5px;border-radius: 50%"> {{ p.abr_name }}</label>'+
                        '<br><label style="font-size: 12px;">{{ p.get_played_last_match_display }}.</label>'+
                        '</div>'+
                        '<div class="select_player" style="display: inline;float: right;width: 28%;text-align: right">'+
                        '<label onclick="captain_player({{ p.id }})" class="captain" id="captain{{ p.id }}" value="{{ p.id }}"style="border:1px grey solid;border-radius:50%;margin-right:10px">&nbsp; C </label>'+'' +
                        '<label onclick="vice_captain_player({{ p.id }})" class="vice_captain" id="vice_captain{{ p.id }}" value="{{ p.id }}" style="border:1px grey solid;border-radius:50%;margin-right:10px">&nbsp;VC&nbsp;</label>'+
                        '<br><label style="font-size: 12px;">{{ p.team.name_abr }}</label>'+
                        '</div>'+
                        '</div>'+
                        '<br><br><hr>');
                    $("#captain"+captain).css("background", "#bae5a0");
                    $("#vice_captain"+vice_captain).css("background", "#bae5a0");
                }
                else
                {
                    {#console.log('not in list'+'{{ p.id }}:{{ p.full_name }}')#}
                }
            {% endfor %}
            {#localStorage.setItem("my_colors", JSON.stringify(selected_player));#}
            {#sessionStorage.setItem("selected_player", selected_player);#}
            var modal = document.getElementById("myModal");
            var btn = document.getElementById("myBtn");
            var span = document.getElementsByClassName("close")[0];
            modal.style.display = "block";
            {#var username = sessionStorage["selected_player"];#}
        }
    }
    function captain_player(id){
        if (id != vice_captain){
            $(".captain").css("background", "white");
            $("#captain"+id).css("background", "#bae5a0");
            captain = id;
            {#console.log("c:"+captain);#}
        }
        if (captain != '' && vice_captain != ''){
            $("#create_save").css('background', 'green')
        }
        else {
            $("#create_save").css('background', 'grey')
        }
    }
    function vice_captain_player(id){

        if (id != captain){
            $(".vice_captain").css("background", "white");
            $("#vice_captain"+id).css("background", "#bae5a0");
            vice_captain = id;
            {#console.log("vc:"+vice_captain);#}
        }
        if (captain != '' && vice_captain != ''){
            $("#create_save").css('background', 'green')
        }
        else {
            $("#create_save").css('background', 'grey')
        }
    }
    span.onclick = function()
    {
        modal.style.display = "none";
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event)
    {
        if (event.target == modal)
        {
            modal.style.display = "none";
        }
    }
    function create_team(){


        $.ajax({

            url : '{{ request.base_url }}/sports/tbt/create_teams/',
            type : 'POST',
            dataType:'json',
            traditional: true,
            data : {
                'vice_captain' : vice_captain,
                'captain' : captain,
                players_id : [selected_player],
                'match_id':'{{ match_id  }}',
                'edit_team':'{{ edit_team }}',
                'contest_id':'{{ contest_id }}',
                'created_team_id':'{{ created_team.id }}',
                csrfmiddlewaretoken: '{{ csrf_token }}'

            },

            success : function(data) {
                {#alert('Data: '+data);#}
                alert("Team Created Successfully");
                {#window.location.href = "/sports/tbt/created_team/{{ match_id }}";#}
                window.location.href = "/sports/tbt/contest/{{ contest_id }}";

            },
            error : function(request,error)
            {
                alert("Request: "+request+":"+error);
            }
        });
    }
    function preview_team(id){
        {#<div id="wicket_keeper" class="players_box"></div>#}
        {#<div id="better" class="players_box"></div>#}
        {#<div id="all_rounder" class="players_box"></div>#}
        {#<div id="bowler" class="players_box"></div>#}
        var pre_team;
        $("#wicket_keeper").html("");
        $("#better").html("");
        $("#all_rounder").html("");
        $("#bowler").html("");
        {% for p in players %}
            {% for t in team %}
                {% if p.player_place == '3' %}
                    {% if p.team == t.team1 %}

                        if(selected_player.indexOf({{ p.id }}) !== -1) {
                            console.log('{{ p.id }}'+':'+selected_player)
                            pre_team = '<div class="{{ p.team }}"><img class="player_image" src="/media/{% if p.image == "" or p.image == none %}players/players.png{% else %}{{ p.image }}{% endif %}"><label class="player_name">{{ p.abr_name }}</label></div>';
                            $("#wicket_keeper").append(pre_team);
                        }
                    {% endif %}
                    {% if p.team == t.team2 %}
                        if(selected_player.indexOf({{ p.id }}) !== -1) {
                            pre_team = '<div class="{{ p.team }}"><img class="player_image" src="/media/{% if p.image == "" or p.image == none %}players/players.png{% else %}{{ p.image }}{% endif %}"><label class="player_name">{{ p.abr_name }}</label></div>';
                            $("#wicket_keeper").append(pre_team);
                        }
                    {% endif %}
                {% endif %}
                {% if p.player_place == '1' %}
                    {% if p.team == t.team1 %}
                        if(selected_player.indexOf({{ p.id }}) !== -1) {
                            pre_team = '<div class="{{ p.team }}"><img class="player_image" src="/media/{% if p.image == "" or p.image == none %}players/players.png{% else %}{{ p.image }}{% endif %}"><label class="player_name">{{ p.abr_name }}</label></div>';
                            $("#better").append(pre_team);
                        }
                    {% endif %}
                    {% if p.team == t.team2 %}
                        if(selected_player.indexOf({{ p.id }}) !== -1) {
                            pre_team = '<div class="{{ p.team }}"><img class="player_image" src="/media/{% if p.image == "" or p.image == none %}players/players.png{% else %}{{ p.image }}{% endif %}"><label class="player_name">{{ p.abr_name }}</label></div>';
                            $("#better").append(pre_team);
                        }
                    {% endif %}
                {% endif %}
                {% if p.player_place == '4' %}
                    {% if p.team == t.team1 %}
                        if(selected_player.indexOf({{ p.id }}) !== -1) {
                            pre_team = '<div class="{{ p.team }}"><img class="player_image" src="/media/{% if p.image == "" or p.image == none %}players/players.png{% else %}{{ p.image }}{% endif %}"><label class="player_name">{{ p.abr_name }}</label></div>';
                            $("#all_rounder").append(pre_team);
                        }
                    {% endif %}
                    {% if p.team == t.team2 %}
                        if(selected_player.indexOf({{ p.id }}) !== -1) {
                            pre_team = '<div class="{{ p.team }}"><img class="player_image" src="/media/{% if p.image == "" or p.image == none %}players/players.png{% else %}{{ p.image }}{% endif %}"><label class="player_name">{{ p.abr_name }}</label></div>';
                            $("#all_rounder").append(pre_team);
                        }
                    {% endif %}
                {% endif %}
                {% if p.player_place == '2' %}
                    {% if p.team == t.team1 %}
                        if(selected_player.indexOf({{ p.id }}) !== -1) {
                            pre_team = '<div class="{{ p.team }}"><img class="player_image" src="/media/{% if p.image == "" or p.image == none %}players/players.png{% else %}{{ p.image }}{% endif %}"><label class="player_name">{{ p.abr_name }}</label></div>';
                            $("#bowler").append(pre_team);
                        }
                    {% endif %}
                    {% if p.team == t.team2 %}
                        if(selected_player.indexOf({{ p.id }}) !== -1) {
                            pre_team = '<div class="{{ p.team }}"><img class="player_image" src="/media/{% if p.image == "" or p.image == none %}players/players.png{% else %}{{ p.image }}{% endif %}"><label class="player_name">{{ p.abr_name }}</label></div>';
                            $("#bowler").append(pre_team);
                        }
                    {% endif %}
                {% endif %}
            {% endfor %}
        {% endfor %}


        myModal_team_preview.style.display = "block";

    }
    function close_preview(){
        myModal_team_preview.style.display = "none";

    }
</script>
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-21769945-4', 'auto');
    ga('send', 'pageview');

</script>

<script>
    var autoAdjustHeight = true;

    // update on click

    $('nav a').on('mousedown', function(e){
        e.preventDefault();
        var goTo = $(this).parent().index();
        swipegoryUpdate(goTo);
    });

    // update on touch
    $("ul.panes").swipe({
        swipeStatus:function(event, phase, direction, distance, duration, fingerCount) {
            var translateString = 'translate3d(0px, 0px, 0px)';

            var transitionDuration = $('nav li.cur').css('transitionDuration');
            var speed = transitionDuration;

            if(phase == 'move') {
                speed = '0ms';
                if(direction == 'left') {
                    translateString = 'translate3d(-' + distance + 'px, 0px, 0px)';
                    $('.panes li.cur').css('marginLeft', '-'+ distance +'px');
                }
                else if(direction == 'right') {
                    translateString = 'translate3d(' + distance + 'px, 0px, 0px)';
                    $('.panes li.cur').css('marginLeft', distance +'px');
                }
                $('nav li.cur').css({
                    transitionDuration: speed,
                    transform: translateString
                });

            }
            else if (phase == 'end') {
                // reset transform3D
                var marginLeft = $('nav li.cur').css('marginLeft');
                $('nav li.cur').attr('style', '').css('marginLeft', marginLeft);
                $('.panes li.cur').attr('style', '');
            }
        },
        swipeLeft:function(event, direction, distance, duration, fingerCount) {
            //This only fires when the user swipes left
            var goTo = $('nav li.cur').index();
            goTo++;
            swipegoryUpdate(goTo);
        },
        swipeRight:function(event, direction, distance, duration, fingerCount) {
            //This only fires when the user swipes left
            var goTo = $('nav li.cur').index();
            goTo--;
            swipegoryUpdate(goTo);
        },
        threshold: 50,
        triggerOnTouchEnd: false,
        triggerOnTouchMove: true,
        allowPageScroll: "vertical",
        excludedElements: "button, input, select, textarea, .noSwipe"
    });



    // update on load
    $(window).load(function() {
        swipegoryUpdate(0);
    });

    function swipegoryUpdate(goTo) {
        var listItems = $('nav li');
        var panes = $('.panes');
        var prev = goTo - 1;
        var next = goTo + 1;
        if(goTo >= 0 && goTo < listItems.length) {
            listItems.removeClass('prev').removeClass('cur').removeClass('next').removeClass('before').removeClass('after');
            $('li', panes).removeClass('prev').removeClass('cur').removeClass('next').removeClass('before').removeClass('after');



            listItems.each(function(i) {
                var li = $(this);
                var pane = $('li:eq('+i+')', panes);

                li.attr('style', '');

                if(i == prev) {
                    li.addClass('prev');
                    li.css('margin-left', '0');
                    pane.addClass('prev');
                }
                else if(i == next) {
                    li.addClass('next');
                    li.css('margin-left', '-' + li.outerWidth() + 'px');
                    pane.addClass('next');
                }
                else if(i < goTo) {
                    li.addClass('before');
                    li.css('margin-left', '-' + li.outerWidth() + 'px');
                    pane.addClass('before');
                }
                else if(i == goTo) {
                    li.addClass('cur');
                    var marginLeft = li.outerWidth() / 2;

                    li.css('margin-left', '-' + marginLeft + 'px');
                    pane.addClass('cur');

                    if(autoAdjustHeight == true) {
                        $('.swipegory').css('height', pane.outerHeight() + li.outerHeight());
                    }

                }
                else if(i > goTo) {
                    li.addClass('after');
                    li.css('margin-left', '0');
                    pane.addClass('after');
                }
            });
        }
    }
</script>
<style>
    .footer { position: fixed; left: 0; bottom: 0; width: 100%;color: white;text-align: center;}
    * {
        box-sizing: border-box;
    }
    html,
    body {
        height: 100%;
    }
    body {
        padding: 0;
        background: #eee;
        font: 16px/2em 'Montserrat', sans-serif;
    }
    img {
        max-width: 150px;
        heigth: auto;
        display: block;
        margin: 0 auto;
    }
    h1 {
        text-align: center;
        font-size: 26px;
        margin: 10px 0 20px 0;
    }
    p {
        margin: 0 0 20px 0;
    }
    p.footer {
        font-size: 12px;
        text-align: center;
    }
    .swipegory {
        position: relative;
        max-width: 320px;
        height: 480px;
        margin: 0 auto;
        background: #fff;
        padding-top: 70px;
        overflow: hidden;
        transition: 1s height;
        transform: translate3d(0, 0, 0);
        margin-bottom: 5px;
    }
    .swipegory nav ul {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 70px;
        background: #333;
    }
    .swipegory nav li {
        position: absolute;
        top: 0;
        left: 100%;
        display: block;
        transition: 1s all;
        transform: translate3d(0, 0, 0);
        line-height: 70px;
        height: 70px;
        font-size: 12px;
        text-transform: uppercase;
    }
    .swipegory nav li.prev {
        left: 0;
    }
    .swipegory nav li.cur {
        left: 50%;
    }
    .swipegory nav li.cur a {
        color: #fff;
    }
    .swipegory nav li.cur a:after {
        opacity: 1;
        transform: translate3d(0, 0, 0);
    }
    .swipegory nav li.next {
        left: 100%;
    }
    .swipegory nav li.before {
        left: 0;
    }
    .swipegory nav li.after {
        left: 100%;
    }
    .swipegory nav li a {
        position: relative;
        color: #999;
        text-decoration: none;
        padding: 0 20px;
        height: 70px;
        line-height: 70px;
        display: block;
        overflow: hidden;
        transition: 1s color;
    }
    .swipegory nav li a:after {
        content: ' ';
        position: absolute;
        bottom: 0;
        left: 0;
        background: cyan;
        width: 100%;
        height: 3px;
        opacity: 0;
        transition: 1s all;
        transform: translate3d(0, 3px, 0);
    }
    .swipegory ul.panes {
        position: absolute;
        width: 100%;
        height: 100%;
        cursor: move;
    }
    .swipegory ul.panes li {
        position: absolute;
        top: 0;
        left: 100%;
        width: 100%;
        padding: 20px 20px 0 20px;
        transition: 1s all;
        transform: translate3d(0, 0, 0);
    }
    .swipegory ul.panes li.prev {
        transform: translate3d(-200%, 0, 0);
    }
    .swipegory ul.panes li.cur {
        transform: translate3d(-100%, 0, 0);
    }
    .swipegory ul.panes li.next {
        transform: translate3d(0, 0, 0);
    }
    .swipegory ul.panes li.before {
        transform: translate3d(-200%, 0, 0);
    }
    .swipegory ul.panes li.after {
        transform: translate3d(0, 0, 0);
    }
    @media all and (min-width: 320px) {
        body {
            padding: 20px 0;
        }
    }
</style>
</body>
</html>